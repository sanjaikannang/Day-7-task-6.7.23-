
//A.Get all the countries from Asia continent /region using Filter function
<html>
  <head>
    <title>XMLHttpRequest Example</title>
  </head>
  <body>
    <script>
      //Create a new XMLHttpRequest object
      var xhr = new XMLHttpRequest();

      //Define HTTP method and URL
      var method = "GET";
      var url = "https://restcountries.com/v3.1/all";

      //Open the request
      xhr.open(method, url, true);

      //Set Headers (Optional)
      xhr.setRequestHeader("Content-Type", "application/json");

      xhr.onload = function () {
        var response = JSON.parse(xhr.responseText);
        response.filter((countries) => {
           return countries.region ==="Asia";
     })
        console.log(response);
        };

      //send the request
      xhr.send();
    </script>
  </body>
</html>

//----------------------------------------------------------------------------------

//B.Get all the countries with a population of less than 2 lakhs using Filter function

<html>
  <head>
    <title>XMLHttpRequest Example</title>
  </head>
  <body>
    <script>
      //Create a new XMLHttpRequest object
      var xhr = new XMLHttpRequest();

      //Define HTTP method and URL
      var method = "GET";
      var url = "https://restcountries.com/v3.1/all";

      //Open the request
      xhr.open(method, url, true);

      //Set Headers (Optional)
      xhr.setRequestHeader("Content-Type", "application/json");

      request1.onload=function(){
     var result1=JSON.parse(request1.response);
     const pop = result1.filter((element)=>{
        return element.population<200000;
    })
    console.log(pop);
     }
      //send the request
      xhr.send();
    </script>
  </body>
</html>


//----------------------------------------------------------------------------------

//C.Print the following details name, capital, flag using forEach function

<html>
  <head>
    <title>XMLHttpRequest Example</title>
  </head>
  <body>
    <script>
      //Create a new XMLHttpRequest object
      var xhr = new XMLHttpRequest();

      //Define HTTP method and URL
      var method = "GET";
      var url = "https://restcountries.com/v3.1/all";

      //Open the request
      xhr.open(method, url, true);

      //Set Headers (Optional)
      xhr.setRequestHeader("Content-Type", "application/json");

    requestt.onload=function(){
    var resultt=JSON.parse(requestt.response);
    resultt.forEach(element => {
        console.log(element.name);
        console.log(element.capital);
        console.log(element.flag); 

    });
    }
      //send the request
      xhr.send();
    </script>
  </body>
</html>

//----------------------------------------------------------------------------------

//D. Print the total population of countries using reduce function

<html>
  <head>
    <title>XMLHttpRequest Example</title>
  </head>
  <body>
    <script>
      //Create a new XMLHttpRequest object
      var xhr = new XMLHttpRequest();

      //Define HTTP method and URL
      var method = "GET";
      var url = "https://restcountries.com/v3.1/all";

      //Open the request
      xhr.open(method, url, true);

      //Set Headers (Optional)
      xhr.setRequestHeader("Content-Type", "application/json");

      reques.onload=function(){
    var resul=JSON.parse(reques.response);
    var total = resul.reduce((acc,curr) =>{
        return acc+curr.population;
    } );
    }
     console.log(total);
 
      //send the request
      xhr.send();
    </script>
  </body>
</html>

//----------------------------------------------------------------------------------

//E.Print the country which uses US Dollars as currency.

<html>
  <head>
    <title>XMLHttpRequest Example</title>
  </head>
  <body>
    <script>
      //Create a new XMLHttpRequest object
      var xhr = new XMLHttpRequest();

      //Define HTTP method and URL
      var method = "GET";
      var url = "https://restcountries.com/v3.1/all";

      //Open the request
      xhr.open(method, url);

      xhr.onload = function () {
        if (xhr.status === 200) {
          //Request was successful
          var countriesDetails = JSON.parse(xhr.responseText);
          console.log(countriesDetails);
          for (var i = 0; i < countriesDetails.length; i++) {
            // var name = Object.keys(countriesDetails[i].name.nativeName)[0];
            // console.log(countriesDetails[i].name.nativeName[name]);
            if (countriesDetails[i].currencies != undefined) {
              Object.keys(countriesDetails[i].currencies).forEach((key) => {
                if (key === "0.capital") {
                  console.log(countriesDetails[i].currencies);
                }
              });
            }
          }
        } else {
          //Request failed
          console.log("Request failed", xhr.status);
        }
      };

      //send the request
      xhr.send();
    </script>
  </body>
</html>

//-----------------------------------------------------------------------------------

